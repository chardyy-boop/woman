const questions = [
    {
        question: "A woman went shopping for some canned goods which were on sale. She bought three times as many cans of peaches and two times as many cans of tuna as cans of peaches. It she purchased a total of 24 cans, how many cans did he buy?",
        choices: [
            { text: "5", prefix: "a" },
            { text: "8", prefix: "b" },
            { text: "4", prefix: "c" },
            { text: "12", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "A man makes a business trip from his house to Batangas in 2 hours. One hour later, he returns home in traffic at a rate of 20kph less that his going rate. If he is gone a total of 6 hours. How fast did he travel going back home?",
        choices: [
            { text: "50", prefix: "a" },
            { text: "60", prefix: "b" },
            { text: "40", prefix: "c" },
            { text: "30", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "A trapezoid has its 2 bases in meters in ratio of 4:5 with a latitude of 20 meters if the trapezoid has an area of 360 m^2 find the two bases.",
        choices: [
            { text: "20 and 16", prefix: "a" },
            { text: "8 and 10", prefix: "b" },
            { text: "40 and 32", prefix: "c" },
            { text: "12 and 50", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Which of the following is the nth term of the set of number 8,4,0, -4?",
        choices: [
            { text: "12-4n", prefix: "a" },
            { text: "10-5n", prefix: "b" },
            { text: "5-3n", prefix: "c" },
            { text: "7-5n", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "A spring whose normal length is 10 inches has a modulus of 12 pounds per inch. How much work is done in stretching this spring from length of 12 inches to a total length of 15 inches",
        choices: [
            { text: "126 in-lb", prefix: "a" },
            { text: "109 in-lb", prefix: "b" },
            { text: "150 in-lb", prefix: "c" },
            { text: "200 in-lb", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "A right circular tank of depth 12 feet and radius of 4 feet is half full of oil weighing 60 pound per cubic foot. Find the work done in pumping the oil to a height 6 feet above the tank.",
        choices: [
            { text: "136 ft-tons", prefix: "a" },
            { text: "159 ft-tons", prefix: "b" },
            { text: "180 ft-tons", prefix: "c" },
            { text: "250 ft-tons", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Hooke’s law states that within the limits of elasticity the displacement produced in a body is proportional to the force applied. That is F=kx, where k is called modulus. Thus., if the modulus of a spring is 20 pounds per inch, the work required to stretch or compress the spring a distance of 6 inches is",
        choices: [
            { text: "30 in-lb", prefix: "a" },
            { text: "32 in-lb", prefix: "b" },
            { text: "35 in-lb", prefix: "c" },
            { text: "55 in-lb", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "What is the value of square root -7 x square root of -10?",
        choices: [
            { text: "√70", prefix: "a" },
            { text: "-√70", prefix: "b" },
            { text: "i", prefix: "c" },
            { text: "√70i", prefix: "d" }
        ],
        answer: "b"
    },
    {
        question: "The points A (1,0), B (9,2) and C (3,6) are vertices of triangle which of the following is an equation of one of medians?",
        choices: [
            { text: "x + 7y =23", prefix: "a" },
            { text: "2x – 3y = 12", prefix: "b" },
            { text: "4x + 4y =15", prefix: "c" },
            { text: "2x – y =1", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the area of the triangle which the line 4x – 6y +12 = 0 forms with the coordinate axes",
        choices: [
            { text: "3", prefix: "a" },
            { text: "5", prefix: "b" },
            { text: "10", prefix: "c" },
            { text: "7", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "A particles position (in inches) along the axis after 1 seconds of travel is given by the equation x = 24t^2 - 3t^3 + 10. What is the particle’s average velocity, in in/sec during the first 3 seconds",
        choices: [
            { text: "63", prefix: "a" },
            { text: "45", prefix: "b" },
            { text: "70", prefix: "c" },
            { text: "47", prefix: "d" }
        ],
        answer: "b"
    },
    {
        question: "Find the area of the region bounded by y = x^3 - 3x^2 + 2x + 1 the axis, and vertical lines x = 0 and x=2",
        choices: [
            { text: "4", prefix: "a" },
            { text: "2", prefix: "b" },
            { text: "10", prefix: "c" },
            { text: "3", prefix: "d" }
        ],
        answer: "b"
    },
    {
        question: "Find the rate of change of the area of a square with respect to its side when x=5",
        choices: [
            { text: "63", prefix: "a" },
            { text: "45", prefix: "b" },
            { text: "10", prefix: "c" },
            { text: "47", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "A spherical snow ball melting in such a way that its surface area decreases at rate of 1 cm^3/min. How fast is its radius shrinking when it is 3 com?",
        choices: [
            { text: "-1/2 π", prefix: "a" },
            { text: "-1/48π", prefix: "b" },
            { text: "-1/20σ", prefix: "c" },
            { text: "-1/12σ", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Two cities 270 km apart lie on the same meridian. Find their difference in latitude if the arth’s radius is 3960 km.",
        choices: [
            { text: "3/55 rad", prefix: "a" },
            { text: "2/44 rad", prefix: "b" },
            { text: "1/12 rad", prefix: "c" },
            { text: "5/27 rad", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the maximum area of a rectangle circumscribed about a fixed rectangle of length 6 cm and width of 4 cm.",
        choices: [
            { text: "50", prefix: "a" },
            { text: "24", prefix: "b" },
            { text: "48", prefix: "c" },
            { text: "100", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "The perimeter of an isosceles right triangle is 10.2426. Compute the area of the triangle in square units.",
        choices: [
            { text: "4", prefix: "a" },
            { text: "2", prefix: "b" },
            { text: "4.5", prefix: "c" },
            { text: "5.2", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "A piece of wire is shaped in enclose a rectangle with a length of 15 cm and whose area is 150 sq. cm. It is then reshaped to enclose a square. Find the area of the square in cm^2.",
        choices: [
            { text: "156.25", prefix: "a" },
            { text: "125.72", prefix: "b" },
            { text: "453.72", prefix: "c" },
            { text: "187.45", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the area of the region bounded by the parabola x = y^2 and the line y=x-2",
        choices: [
            { text: "8/2", prefix: "a" },
            { text: "3/2", prefix: "b" },
            { text: "7/2", prefix: "c" },
            { text: "11/1", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Five horses are in a race. A woman picks two of the horses in random, and bets one of them. Find the probability “p” that a person picked the winner",
        choices: [
            { text: "1/10", prefix: "a" },
            { text: "2/5", prefix: "b" },
            { text: "3/10", prefix: "c" },
            { text: "7/10", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "The probability that a hit the target is 1/3 and the probability that b hits target is 1/5 they both fire at the target. Find the probability that one of them hits the target.",
        choices: [
            { text: "2/5", prefix: "a" },
            { text: "3/5", prefix: "b" },
            { text: "3/7", prefix: "c" },
            { text: "9/10", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "What is (1+i) raised to the power 10?",
        choices: [
            { text: "32i", prefix: "a" },
            { text: "52i", prefix: "b" },
            { text: "i", prefix: "c" },
            { text: "Undefined", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "What is the maximum area of the rectangle whose base is on the x-axis and whose upper two vertices line on the parabola y = 12 – x^2",
        choices: [
            { text: "32", prefix: "a" },
            { text: "16", prefix: "b" },
            { text: "54", prefix: "c" },
            { text: "20", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the equation of a line through point A (4,1) perpendicular to the line 2x -3y +4 = 0",
        choices: [
            { text: "3x + 2y =14", prefix: "a" },
            { text: "2x +5y = 10", prefix: "b" },
            { text: "5x -3y =10", prefix: "c" },
            { text: "2x -10y =15", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the particular solution of the differential dx/dt = x -1; x (0) =1",
        choices: [
            { text: "X(t) = 1", prefix: "a" },
            { text: "X(t) = 2", prefix: "b" },
            { text: "X(t) = 3", prefix: "c" },
            { text: "X(t) = 0", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Fin the volume of the solid of revolution formed by rotating the region bounded by the parabola y= x^2 and the line y=0 and x = 2 about the x – axis",
        choices: [
            { text: "2π/5", prefix: "a" },
            { text: "π/5", prefix: "b" },
            { text: "32π/5", prefix: "c" },
            { text: "π/5", prefix: "d" }
        ],
        answer: "a" // Note: "Fin" vs "Find" - kept as per request or corrected. Assuming correction to "Find" is fine, but preserving request text mostly.
    },
    {
        question: "Find the slope of the curve defined by the equation yx^2 - 4 = 0 at point (4,4)",
        choices: [
            { text: "-2", prefix: "a" },
            { text: "5", prefix: "b" },
            { text: "-5", prefix: "c" },
            { text: "2", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "A function y has the set of positive integers N as domain and for each n contained in N, y(n) =12 + cos (n x π) + sin [(2n-1) π/2]. What are the values of y corresponding to any odd positive integer?",
        choices: [
            { text: "12", prefix: "a" },
            { text: "1", prefix: "b" },
            { text: "50", prefix: "c" },
            { text: "3", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find the volume obtained if the region bounded by y = x^2 and y -2x = 0 is rotated about the x-axis",
        choices: [
            { text: "64π/15", prefix: "a" },
            { text: "24π/5", prefix: "b" },
            { text: "34π/15", prefix: "c" },
            { text: "π/15", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Which of the following are the solutions to the following y”’ – 3y” + 3y’ –y = 0? I. e^x, II. X(e^x), III. e^-x",
        choices: [
            { text: "I only", prefix: "a" },
            { text: "III only", prefix: "b" },
            { text: "I and II only", prefix: "c" },
            { text: "II only", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "Find all integers n such that (2n-6) is greater than 1 but less than 14",
        choices: [
            { text: "4,5,6,7,8,9", prefix: "a" },
            { text: "3,4,5,6,7,8", prefix: "b" },
            { text: "1,2,3,4,5,6,7", prefix: "c" },
            { text: "1,3,4,5,6,7,8,9", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Write the equation of the line with x intercept a = 4/5 and y – intercept b =1/2",
        choices: [
            { text: "5x + 8y =4", prefix: "a" },
            { text: "5x – 8y = 4", prefix: "b" },
            { text: "3x + 8y = 4", prefix: "c" },
            { text: "X + 2y =7", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "Find all the values of m for which; y = e (to power mx) is a solution of 6y” – y’ – y =0 on (-infinity, + infinity)",
        choices: [
            { text: "m = -1/2, 2/3", prefix: "a" },
            { text: "m = -1,2,3", prefix: "b" },
            { text: "m= -3, -1/3", prefix: "c" },
            { text: "m= -1/3, ½", prefix: "d" }
        ],
        answer: "d"
    },
    {
        question: "If the columns (or rows) of determinant are identical, the value of the determinant is",
        choices: [
            { text: "negative", prefix: "a" },
            { text: "positive", prefix: "b" },
            { text: "zero", prefix: "c" },
            { text: "undefined", prefix: "d" }
        ],
        answer: "c"
    },
    {
        question: "What is I (raised to power 96)",
        choices: [
            { text: "m = -1/2, 2/3", prefix: "a" }, // Options seem weird for this question in original prompt, copying verbatim but suspect error in user prompt for options.
            { text: "m= -1,2,3", prefix: "b" },
            { text: "m = -3,1/3", prefix: "c" },
            { text: "m = -1/3, ½", prefix: "d" }
        ],
        answer: "d" // User prompt says Ans D. Matches pattern.
    },
    {
        question: "The probability that a married man watches a certain television show is 0.4 and the probability that a married woman watches the show is 0.5. The probability that a man watches the show given that his wife does is 0.70. Find the probability that at least 1 person of married couple will watch the show",
        choices: [
            { text: "0.35", prefix: "a" },
            { text: "0.65", prefix: "b" },
            { text: "0.75", prefix: "c" },
            { text: "0.55", prefix: "d" }
        ],
        answer: "d"
    },
    {
        question: "A coin is biased so that a head is twice as likely to occur as a tail. If the coin is tossed 3 times, what is the probability of getting 2 tails and 1 head?",
        choices: [
            { text: "2/9", prefix: "a" },
            { text: "3/7", prefix: "b" },
            { text: "2/5", prefix: "c" },
            { text: "1/5", prefix: "d" }
        ],
        answer: "a"
    },
    {
        question: "The probability that a doctor correctly diagnosis a particular illness is 0.70. Given that the doctor makes and incorrect and incorrect diagnosis, the probability that the doctor makes an incorrect diagnosis and the patient sues?",
        choices: [
            { text: "0.27", prefix: "a" },
            { text: "0.17", prefix: "b" },
            { text: "0.32", prefix: "c" },
            { text: "0.70", prefix: "d" }
        ],
        answer: "a"
    }
];

const questionElement = document.getElementById('question');
const choicesElement = document.getElementById('choices');
const nextBtn = document.getElementById('next-btn');
const restartBtn = document.getElementById('restart-btn');
const scoreElement = document.getElementById('score');
const finalScoreElement = document.getElementById('final-score');
const totalQuestionsElement = document.getElementById('total-questions');
const quizArea = document.getElementById('quiz-area');
const resultArea = document.getElementById('result-area');

let currentQuestionIndex = 0;
let score = 0;

function startQuiz() {
    currentQuestionIndex = 0;
    score = 0;
    scoreElement.innerText = score;
    quizArea.classList.remove('hide');
    resultArea.classList.add('hide');
    nextBtn.classList.add('hide');
    showQuestion();
}

function showQuestion() {
    resetState();
    let currentQuestion = questions[currentQuestionIndex];
    questionElement.innerText = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;

    currentQuestion.choices.forEach(choice => {
        const button = document.createElement('button');
        button.innerHTML = `<span class="choice-prefix">${choice.prefix.toUpperCase()}</span> ${choice.text}`;
        button.classList.add('choice-btn');
        button.dataset.prefix = choice.prefix;
        button.addEventListener('click', selectAnswer);
        choicesElement.appendChild(button);
    });
}

function resetState() {
    nextBtn.classList.add('hide');
    while (choicesElement.firstChild) {
        choicesElement.removeChild(choicesElement.firstChild);
    }
}

function selectAnswer(e) {
    const selectedBtn = e.target.closest('.choice-btn');
    const selectedPrefix = selectedBtn.dataset.prefix;
    const correctPrefix = questions[currentQuestionIndex].answer.toLowerCase();

    // Disable all buttons
    Array.from(choicesElement.children).forEach(button => {
        button.disabled = true;
        if (button.dataset.prefix === correctPrefix) {
            button.classList.add('correct');
        }
    });

    if (selectedPrefix === correctPrefix) {
        score++;
        scoreElement.innerText = score;
        // Animation for correct answer? Already handled by CSS class 'correct'
    } else {
        selectedBtn.classList.add('wrong');
    }

    if (currentQuestionIndex < questions.length - 1) {
        nextBtn.classList.remove('hide');
    } else {
        nextBtn.innerText = "Finish Quiz";
        nextBtn.classList.remove('hide');
    }
}

nextBtn.addEventListener('click', () => {
    if (nextBtn.innerText === "Finish Quiz") {
        showScore();
    } else {
        currentQuestionIndex++;
        showQuestion();
    }
});

function showScore() {
    quizArea.classList.add('hide');
    resultArea.classList.remove('hide');
    finalScoreElement.innerText = score;
    totalQuestionsElement.innerText = questions.length;
}

restartBtn.addEventListener('click', () => {
    nextBtn.innerText = "Next Question";
    startQuiz();
});

// Initialize
startQuiz();
